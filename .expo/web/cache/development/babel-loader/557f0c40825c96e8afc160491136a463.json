{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"F:\\\\Projects\\\\Book Donation App\\\\book-santa-stage-13\\\\node_modules\\\\react-native-google-books\\\\GoogleBookSearch.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport BookSearch from \"./BookSearch\";\n\nvar _Dimensions$get = Dimensions.get('screen'),\n    height = _Dimensions$get.height,\n    width = _Dimensions$get.width;\n\nvar GoogleBookSearch = function (_React$Component) {\n  _inherits(GoogleBookSearch, _React$Component);\n\n  var _super = _createSuper(GoogleBookSearch);\n\n  function GoogleBookSearch(props) {\n    var _this;\n\n    _classCallCheck(this, GoogleBookSearch);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      gbooks: [],\n      typing: false,\n      typingTimeout: 0,\n      showcontainer: true,\n      searchval: _this.props.value\n    };\n    _this.searchBook = _this.searchBook.bind(_assertThisInitialized(_this));\n    _this.onTextChange = _this.onTextChange.bind(_assertThisInitialized(_this));\n    _this.onResultPress = _this.onResultPress.bind(_assertThisInitialized(_this));\n    _this.searchResult = _this.searchResult.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(GoogleBookSearch, [{\n    key: \"renderGBooks\",\n    value: function renderGBooks(item, index) {\n      var _this2 = this;\n\n      var book = item;\n      var name = item.volumeInfo.title;\n      var thumbnail = {\n        small: \"\",\n        normal: \"\"\n      };\n\n      if (book.volumeInfo != undefined && book.volumeInfo.imageLinks != undefined) {\n        thumbnail.small = book.volumeInfo.imageLinks.smallThumbnail != undefined ? book.volumeInfo.imageLinks.smallThumbnail : null;\n        thumbnail.normal = book.volumeInfo.imageLinks.thumbnail != undefined ? book.volumeInfo.imageLinks.thumbnail : null;\n      }\n\n      var obj = {\n        id: item.id,\n        title: name,\n        authors: item.volumeInfo.authors,\n        isbn: item.volumeInfo.industryIdentifiers,\n        raw: item,\n        smallThumbnail: thumbnail.small,\n        thumbnail: thumbnail.normal\n      };\n      return React.createElement(TouchableHighlight, {\n        onPress: function onPress() {\n          return _this2.onResultPress(obj);\n        },\n        underlayColor: 'transparent',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 12\n        }\n      }, React.createElement(View, {\n        style: [styles.resultItem, _objectSpread({}, this.props.resultContainerStyle)],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: _objectSpread({}, this.props.resultItemStyle),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }\n      }, obj.title)));\n    }\n  }, {\n    key: \"onResultPress\",\n    value: function onResultPress(book) {\n      if (this.props.onResultPress !== undefined) {\n        this.setState({\n          showcontainer: false,\n          searchval: book.title\n        });\n        this.props.onResultPress(book);\n      }\n    }\n  }, {\n    key: \"searchResult\",\n    value: function searchResult() {\n      if (this.props.searchResult !== undefined) {\n        this.props.searchResult(this.state.gbooks);\n      }\n    }\n  }, {\n    key: \"onTextChange\",\n    value: function onTextChange(val) {\n      this.setState({\n        searchval: val\n      });\n\n      if (val.length == 0) {\n        this.setState({\n          showcontainer: false\n        });\n      }\n\n      if (val.length > 2) {\n        if (!this.state.showcontainer) {\n          this.setState({\n            showcontainer: true\n          });\n        }\n\n        var self = this;\n\n        if (self.state.typingTimeout) {\n          clearTimeout(self.state.typingTimeout);\n        }\n\n        self.setState({\n          typing: false,\n          typingTimeout: setTimeout(function () {\n            self.searchBook(val);\n          }, self.props.interval)\n        });\n      }\n    }\n  }, {\n    key: \"searchBook\",\n    value: function searchBook(val) {\n      var self, res, booksArray, sliced;\n      return _regeneratorRuntime.async(function searchBook$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              self = this;\n\n              if (!(val.length > 2)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(BookSearch.searchbook(val, this.props.apikey));\n\n            case 4:\n              res = _context.sent;\n\n              if (res.status && res.data != undefined) {\n                console.log(res.data);\n                booksArray = res.data;\n\n                if (self.props.limit != -1) {\n                  if (booksArray.length > self.props.limit) {\n                    sliced = booksArray.slice(0, self.props.limit);\n                    booksArray = sliced;\n                  }\n                }\n\n                this.setState({\n                  gbooks: booksArray\n                }, function () {\n                  self.searchResult();\n                });\n              }\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(View, {\n        style: [styles.container, _objectSpread({}, this.props.searchContainerStyle)],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }\n      }, React.createElement(TextInput, {\n        value: this.state.searchval,\n        style: [styles.input, _objectSpread({}, this.props.searchInputStyle)],\n        placeholder: this.props.placeholder,\n        clearButtonMode: 'while-editing',\n        onChangeText: function onChangeText(text) {\n          return _this3.onTextChange(text);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 17\n        }\n      }), this.props.showSearchResult && this.state.showcontainer ? React.createElement(View, {\n        style: styles.resultContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }\n      }, React.createElement(FlatList, {\n        keyboardDismissMode: 'on-drag',\n        renderItem: function renderItem(item) {\n          return _this3.renderGBooks(item.item, item.index);\n        },\n        data: this.state.gbooks,\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 25\n        }\n      })) : React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 29\n        }\n      }));\n    }\n  }]);\n\n  return GoogleBookSearch;\n}(React.Component);\n\nGoogleBookSearch.propTypes = {\n  apikey: PropTypes.string,\n  placeholder: PropTypes.string,\n  limit: PropTypes.number,\n  onTextChange: PropTypes.func,\n  searchContainerStyle: PropTypes.object,\n  searchInputStyle: PropTypes.object,\n  resultContainerStyle: PropTypes.object,\n  resultItemStyle: PropTypes.object,\n  showSearchResult: PropTypes.bool,\n  searchResult: PropTypes.func,\n  onResultPress: PropTypes.func,\n  keyboardType: PropTypes.string,\n  returnKeyType: PropTypes.string,\n  onSubmitEditing: PropTypes.func,\n  value: PropTypes.string,\n  interval: PropTypes.number\n};\nGoogleBookSearch.defaultProps = {\n  apikey: \"\",\n  theme: 'light',\n  placeholder: \"Search\",\n  keyboardType: 'default',\n  returnKeyType: 'done',\n  value: \"\",\n  limit: -1,\n  showSearchResult: true,\n  interval: 800\n};\nexport { GoogleBookSearch as default };\nvar styles = StyleSheet.create({\n  container: {\n    zIndex: 10,\n    overflow: 'visible',\n    marginTop: 24,\n    borderTopWidth: 0,\n    borderBottomWidth: 0,\n    height: 50,\n    width: width - 16,\n    alignSelf: 'center',\n    backgroundColor: \"#fff\",\n    borderColor: \"#f6f6f6\",\n    borderWidth: 0.7,\n    borderRadius: 5,\n    shadowOpacity: 0.0015 * 5 + 0.18,\n    shadowRadius: 0.54 * 5,\n    shadowOffset: {\n      height: 0.6 * 5\n    },\n    justifyContent: 'center'\n  },\n  input: {\n    backgroundColor: 'transparent',\n    fontSize: 15,\n    lineHeight: 22.5,\n    paddingBottom: 0,\n    paddingHorizontal: 8,\n    flex: 1\n  },\n  resultContainer: {\n    position: 'absolute',\n    top: 60,\n    left: 8,\n    right: 8,\n    backgroundColor: '#FFF',\n    borderRadius: 5,\n    flex: 1,\n    elevation: 3,\n    zIndex: 10,\n    shadowOpacity: 0.0015 * 5 + 0.18,\n    shadowRadius: 0.54 * 5,\n    shadowOffset: {\n      height: 0.6 * 5\n    }\n  },\n  resultItem: {\n    height: 50,\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    justifyContent: 'center',\n    borderBottomWidth: 0.8,\n    borderBottomColor: \"#f6f6f6\",\n    margin: 2\n  },\n  resultText: {\n    fontWeight: '300',\n    alignSelf: 'center'\n  }\n});","map":{"version":3,"sources":["F:/Projects/Book Donation App/book-santa-stage-13/node_modules/react-native-google-books/GoogleBookSearch.js"],"names":["React","PropTypes","BookSearch","Dimensions","get","height","width","GoogleBookSearch","props","state","gbooks","typing","typingTimeout","showcontainer","searchval","value","searchBook","bind","onTextChange","onResultPress","searchResult","item","index","book","name","volumeInfo","title","thumbnail","small","normal","undefined","imageLinks","smallThumbnail","obj","id","authors","isbn","industryIdentifiers","raw","styles","resultItem","resultContainerStyle","resultItemStyle","setState","val","length","self","clearTimeout","setTimeout","interval","searchbook","apikey","res","status","data","console","log","booksArray","limit","sliced","slice","container","searchContainerStyle","input","searchInputStyle","placeholder","text","showSearchResult","resultContainer","renderGBooks","toString","Component","propTypes","string","number","func","object","bool","keyboardType","returnKeyType","onSubmitEditing","defaultProps","theme","StyleSheet","create","zIndex","overflow","marginTop","borderTopWidth","borderBottomWidth","alignSelf","backgroundColor","borderColor","borderWidth","borderRadius","shadowOpacity","shadowRadius","shadowOffset","justifyContent","fontSize","lineHeight","paddingBottom","paddingHorizontal","flex","position","top","left","right","elevation","paddingVertical","borderBottomColor","margin","resultText","fontWeight"],"mappings":"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","sourcesContent":["/*\n * @Author: Anooj Krishnan G \n * @Date: 2019-05-17 19:40:13 \n * @Last Modified by: Anooj Krishnan G\n * @Last Modified time: 2019-11-13 23:05:58\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types'\nimport {TouchableHighlight, StyleSheet, Text, View, Dimensions, FlatList, TextInput} from 'react-native';\nimport BookSearch from './BookSearch'\n\nconst {height, width} = Dimensions.get('screen');\n\nexport default class GoogleBookSearch extends React.Component{\n   static propTypes = {        \n       apikey: PropTypes.string,   \n       placeholder:PropTypes.string, \n       limit:PropTypes.number,    \n       onTextChange: PropTypes.func,\n       searchContainerStyle:PropTypes.object,\n       searchInputStyle:PropTypes.object,\n       resultContainerStyle:PropTypes.object,\n       resultItemStyle:PropTypes.object,\n       showSearchResult:PropTypes.bool,\n       searchResult:PropTypes.func,\n       onResultPress:PropTypes.func,\n       keyboardType:PropTypes.string,\n       returnKeyType:PropTypes.string,        \n       onSubmitEditing:PropTypes.func,        \n       value:PropTypes.string,\n       interval:PropTypes.number\n   };\n   static defaultProps = {        \n       apikey: \"\",        \n       theme:'light', \n       placeholder:\"Search\",\n       keyboardType:'default',\n       returnKeyType:'done',        \n       value:\"\",\n       limit:-1,\n       showSearchResult:true,\n       interval:800\n   };\n\n   constructor(props) {\n       super(props);    \n       this.state={\n           gbooks:[],\n           typing: false,\n            typingTimeout: 0,\n            showcontainer:true,\n            searchval:this.props.value\n       } \n       this.searchBook = this.searchBook.bind(this);       \n       this.onTextChange = this.onTextChange.bind(this); \n       this.onResultPress = this.onResultPress.bind(this);\n       this.searchResult = this.searchResult.bind(this);\n   }\n\n   renderGBooks(item, index){\n       let book = item;\n       let name = item.volumeInfo.title\n       var thumbnail = {\n            small:\"\",\n            normal:\"\"\n        }\n        if(book.volumeInfo != undefined \n            && book.volumeInfo.imageLinks != undefined){\n               thumbnail.small = book.volumeInfo.imageLinks.smallThumbnail!=undefined?book.volumeInfo.imageLinks.smallThumbnail:null;\n               thumbnail.normal = book.volumeInfo.imageLinks.thumbnail!=undefined?book.volumeInfo.imageLinks.thumbnail:null;\n        }\n       let obj = {\n           id:item.id,\n           title:name,\n           authors:item.volumeInfo.authors,\n           isbn:item.volumeInfo.industryIdentifiers,\n           raw:item,\n           smallThumbnail:thumbnail.small,\n           thumbnail:thumbnail.normal\n       }\n       return(\n           <TouchableHighlight \n                onPress={()=>this.onResultPress(obj)}\n                underlayColor={'transparent'}\n                >\n                <View style={[styles.resultItem,{...this.props.resultContainerStyle}]}>\n                    <Text style={{...this.props.resultItemStyle}}>{obj.title}</Text>\n                </View>\n                \n           </TouchableHighlight>\n       )\n   }\n\n   onResultPress(book){\n        if (this.props.onResultPress !== undefined) {\n            this.setState({showcontainer:false,searchval:book.title})\n            this.props.onResultPress(book)\n        }\n   }\n\n   searchResult(){\n    if (this.props.searchResult !== undefined) {\n        this.props.searchResult(this.state.gbooks)\n    }\n   }\n\n   onTextChange(val){       \n       this.setState({searchval:val})\n       if(val.length == 0){\n        this.setState({showcontainer:false})\n       }\n        if(val.length > 2){\n            if(!this.state.showcontainer){\n                this.setState({showcontainer:true})\n            }\n            const self = this;\n\n            if (self.state.typingTimeout) {\n                clearTimeout(self.state.typingTimeout);\n            }\n            self.setState({                \n                typing: false,\n                typingTimeout: setTimeout(function () {\n                    self.searchBook(val);\n                }, self.props.interval)\n            });\n        }\n   }\n\n   async searchBook(val){\n        let self = this;\n        if(val.length > 2){            \n            let res = await BookSearch.searchbook(val, this.props.apikey);                   \n            if(res.status \n                && res.data != undefined){\n                    console.log(res.data)\n                    var booksArray = res.data;\n                    if(self.props.limit != -1){\n                        if(booksArray.length > self.props.limit){\n                            let sliced = booksArray.slice(0,self.props.limit)\n                            booksArray = sliced;\n                        }\n                    }\n                    this.setState({gbooks:booksArray},()=>{\n                        self.searchResult()\n                    })\n            }\n        }\n        \n   }\n\n   render(){\n        return(\n            <View \n                style={[styles.container,{...this.props.searchContainerStyle}]}>\n                \n                <TextInput\n                    value={this.state.searchval}\n                    style={[styles.input,{...this.props.searchInputStyle}]}\n                    placeholder={this.props.placeholder}\n                    clearButtonMode={'while-editing'}\n                    onChangeText={(text) => this.onTextChange(text)}\n                 />\n                 {\n                     (this.props.showSearchResult && this.state.showcontainer)?\n                    <View style={styles.resultContainer}>\n                        <FlatList\n                            keyboardDismissMode={'on-drag'}\n                            renderItem={(item) => this.renderGBooks(item.item, item.index)}\n                            data={this.state.gbooks}                                                \n                            keyExtractor={(item, index) => index.toString()}\n                        />\n                    </View>:<View />\n                 }\n\n            </View>\n        )\n   }\n   \n\n}\n\nconst styles = StyleSheet.create({\n    container:{\n        zIndex: 10,\n        overflow: 'visible',\n        marginTop:24,        \n        borderTopWidth: 0,\n        borderBottomWidth: 0,\n        height: 50,        \n        width:width-16,\n        alignSelf:'center',\n        backgroundColor: \"#fff\",\n        borderColor:\"#f6f6f6\",\n        borderWidth:0.7,\n        borderRadius:5,\n        shadowOpacity: 0.0015 * 5 + 0.18,\n        shadowRadius: 0.54 * 5,\n        shadowOffset: {\n            height: 0.6 * 5,\n        },\n        justifyContent:'center'\n    },\n    input:{\n        backgroundColor: 'transparent',\n        fontSize: 15,\n        lineHeight: 22.5,\n        paddingBottom: 0,\n        paddingHorizontal:8,\n        flex: 1\n    },\n    resultContainer:{\n        position: 'absolute',\n        top: 60,\n        left: 8,\n        right: 8,\n        backgroundColor: '#FFF',\n        borderRadius: 5,\n        flex: 1,\n        elevation: 3,\n        zIndex: 10,\n        shadowOpacity: 0.0015 * 5 + 0.18,\n        shadowRadius: 0.54 * 5,\n        shadowOffset: {\n            height: 0.6 * 5,\n        },\n        \n    },\n    resultItem:{\n        height:50,\n        paddingHorizontal:8, \n        paddingVertical:4,\n        justifyContent:'center',\n        borderBottomWidth:0.8,\n        borderBottomColor:\"#f6f6f6\",\n        margin:2\n              \n    },\n    resultText:{\n        fontWeight:'300',\n        alignSelf:'center'\n        \n    }\n})"]},"metadata":{},"sourceType":"module"}
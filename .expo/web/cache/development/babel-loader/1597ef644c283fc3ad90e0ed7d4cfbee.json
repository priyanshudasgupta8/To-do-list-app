{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"F:\\\\Projects\\\\To-Do List App\\\\to-do-list\\\\components\\\\MyHeader.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { Header, Icon, Badge } from 'react-native-elements';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { StyeSheet } from \"react-native-web/dist/index\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport db from \"../config\";\nimport firebase from 'firebase';\n\nvar MyHeader = function (_Component) {\n  _inherits(MyHeader, _Component);\n\n  var _super = _createSuper(MyHeader);\n\n  function MyHeader(props) {\n    var _this;\n\n    _classCallCheck(this, MyHeader);\n\n    _this = _super.call(this, props);\n\n    _this.BellIconWithBadge = function () {\n      return React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 7\n        }\n      }, React.createElement(Icon, {\n        name: \"bell\",\n        type: \"font-awesome\",\n        color: \"#ffffff\",\n        size: 25,\n        onPress: function onPress() {\n          return _this.props.navigation.navigate('Notification');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 9\n        }\n      }), React.createElement(Badge, {\n        value: _this.state.value,\n        containerStyle: {\n          position: 'absolute',\n          top: -4,\n          right: -4\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 10\n        }\n      }));\n    };\n\n    _this.state = {\n      userId: firebase.auth().currentUser.email,\n      value: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(MyHeader, [{\n    key: \"getNumberOfUnreadNotifications\",\n    value: function getNumberOfUnreadNotifications() {\n      var _this2 = this;\n\n      db.collection('all_notifications').where('notification_status', '==', \"unread\").where('targeted_user_id', '==', this.state.userId).onSnapshot(function (snapshot) {\n        var unreadNotifications = snapshot.docs.map(function (doc) {\n          return doc.data();\n        });\n\n        _this2.setState({\n          value: unreadNotifications.length\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getNumberOfUnreadNotifications();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(Header, {\n        leftComponent: React.createElement(Icon, {\n          name: \"bars\",\n          type: \"font-awesome\",\n          color: \"#ffffff\",\n          onPress: function onPress() {\n            return _this3.props.navigation.toggleDrawer();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 26\n          }\n        }),\n        centerComponent: {\n          text: this.props.title,\n          style: {\n            color: '#ffffff',\n            fontSize: 20,\n            fontWeight: \"bold\"\n          }\n        },\n        rightComponent: React.createElement(this.BellIconWithBadge, _extends({}, this.props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 27\n          }\n        })),\n        backgroundColor: \"#32867d\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }\n      });\n    }\n  }]);\n\n  return MyHeader;\n}(Component);\n\nexport { MyHeader as default };","map":{"version":3,"sources":["F:/Projects/To-Do List App/to-do-list/components/MyHeader.js"],"names":["React","Component","Header","Icon","Badge","StyeSheet","db","firebase","MyHeader","props","BellIconWithBadge","navigation","navigate","state","value","position","top","right","userId","auth","currentUser","email","collection","where","onSnapshot","snapshot","unreadNotifications","docs","map","doc","data","setState","length","getNumberOfUnreadNotifications","toggleDrawer","text","title","style","color","fontSize","fontWeight"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\r\nimport { Header,Icon,Badge } from 'react-native-elements';\r\nimport { View, Text, StyeSheet ,Alert} from 'react-native';\r\nimport db from '../config'\r\nimport firebase from 'firebase';\r\n\r\nexport default class MyHeader extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state={\r\n      userId : firebase.auth().currentUser.email,\r\n      value:\"\"\r\n    }\r\n  }\r\n\r\ngetNumberOfUnreadNotifications(){\r\n  db.collection('all_notifications').where('notification_status','==',\"unread\").where('targeted_user_id','==',this.state.userId)\r\n  .onSnapshot((snapshot)=>{\r\n    var unreadNotifications = snapshot.docs.map((doc) => doc.data())\r\n    this.setState({\r\n      value: unreadNotifications.length\r\n    })\r\n  })\r\n}\r\n\r\ncomponentDidMount(){\r\n  this.getNumberOfUnreadNotifications()\r\n}\r\n\r\n\r\n BellIconWithBadge=()=>{\r\n    return(\r\n      <View>\r\n        <Icon name='bell' type='font-awesome' color='#ffffff' size={25}\r\n          onPress={() =>this.props.navigation.navigate('Notification')}/>\r\n         <Badge\r\n          value={this.state.value}\r\n         containerStyle={{ position: 'absolute', top: -4, right: -4 }}/>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  render(){\r\n    return(\r\n        <Header\r\n          leftComponent={<Icon name='bars' type='font-awesome' color='#ffffff'  onPress={() => this.props.navigation.toggleDrawer()}/>}\r\n          centerComponent={{ text: this.props.title, style: { color: '#ffffff', fontSize:20,fontWeight:\"bold\", } }}\r\n          rightComponent={<this.BellIconWithBadge {...this.props}/>}\r\n          backgroundColor = \"#32867d\"\r\n        />\r\n\r\n)\r\n}\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}